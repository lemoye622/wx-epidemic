{"version":3,"sources":["webpack:///C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/pages/index/index.vue?7bf1","webpack:///C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/pages/index/index.vue?c1a1","webpack:///C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/main.js","webpack:///C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/pages/index/index.vue?b085","webpack:///C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/pages/index/index.vue?b53a","webpack:///C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/pages/index/index.vue?b853","webpack:///C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/pages/index/index.vue?6a61","webpack:///C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/pages/index/index.vue"],"names":["createPage","Page","Dbcrud","require","Total","console","log","components","MAP","Line","Table","data","deadline","mapdata","brokenLineData","tableData","peopleList","menuList","created","epidemicData","methods","arr","pullGet","Promise","all","then","res","diagdata","curedata","diedata","covidTotal","catch","error","sum","diagTotal","$set","sumdata","diagTime","startTime","cureTotal","cureTime","deathTotal","deathTime","timearr","getMenuContent","url","uni","navigateTo","share","objdata","diagdatas","curedatas","deathdatas","strdata","JSON","stringify"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import mod from \"-!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=654be45b&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=654be45b&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1617450260796\n      var cssReload = require(\"D:/devsoft/HBuilderX2.7.5/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=654be45b&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=654be45b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"654be45b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Mac/Desktop/广东新冠疫情追踪小程序/wx-epidemic/pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=654be45b&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\devsoft\\\\HBuilderX2.7.5\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// 操作数据库的类\nlet Dbcrud = require('../../config/dataBase.js')\n// 计算确诊、治愈、死亡   每一个的总和的类\nlet Total = require('../../config/total.js')\n// 计算最晚时间\nimport {timestamp} from '../../config/time.js'\nlet { log } = console\n// 地图组件\nimport MAP from './components/map.vue'\n// 折线图\nimport Line from './components/brokenLine.vue'\n// 表格\nimport Table from './components/table.vue'\nexport default {\n\tcomponents: { MAP, Line, Table },\n\tdata() {\n\t\treturn {\n\t\t\t// 统计截止日期\n\t\t\tdeadline: '',\n\t\t\t// 地图对应城市确诊人数数据\n\t\t\tmapdata: [],\n\t\t\tbrokenLineData: [],\n\t\t\ttableData: [],\n\t\t\tpeopleList: [\n\t\t\t\t{\n\t\t\t\t\t'data': 0,\n\t\t\t\t\t'status': '累积确诊'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'data': 0,\n\t\t\t\t\t'status': '累积治愈'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'data': 0,\n\t\t\t\t\t'status': '累积死亡'\n\t\t\t\t}\n\t\t\t],\n\t\t\t//菜单\n\t\t\tmenuList: [\n\t\t\t\t{\n\t\t\t\t\t'img': '../../static/health.png',\n\t\t\t\t\t'text': '健康信息',\n\t\t\t\t\t'label': '上报健康信息',\n\t\t\t\t\t'url': '../report/report'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'img': '../../static/news.png',\n\t\t\t\t\t'text': '疫情新闻',\n\t\t\t\t\t'label': '热点早知道',\n\t\t\t\t\t'url': '../news/news'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'img': '../../static/shatter-rumors.png',\n\t\t\t\t\t'text': '粉碎谣言',\n\t\t\t\t\t'label': '谣言不可信',\n\t\t\t\t\t'url': '../news/ShatterRumors'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t'img': '../../static/work-resumption.png',\n\t\t\t\t\t'text': '复工复产',\n\t\t\t\t\t'label': '复工出行助你安全',\n\t\t\t\t\t'url': '../news/WorkResumption'\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.epidemicData()\n\t},\n\tmethods: {\n\t\t// 获取确诊、治愈、死亡三个集合的数据\n\t\tepidemicData() {\n\t\t\tlet arr = [\n\t\t\t\tnew Dbcrud('diagnosis').pullGet(),\n\t\t\t\tnew Dbcrud('cure').pullGet(),\n\t\t\t\tnew Dbcrud('death').pullGet()\n\t\t\t]\n\t\t\t// Promise.all 同时请求多个集合的数据\n\t\t\tPromise.all(arr)\n\t\t\t.then((res) => {\n\t\t\t\tlog('三个集合')\n\t\t\t\tlog(res)\n\t\t\t\tlet diagdata = res[0].data\n\t\t\t\tlet curedata = res[1].data\n\t\t\t\tlet diedata = res[2].data\n\t\t\t\tthis.covidTotal(diagdata, curedata, diedata)\n\t\t\t\t// 地图上各城市确诊人数数据\n\t\t\t\tthis.mapdata = diagdata\n\t\t\t\t// 折线图数据\n\t\t\t\tthis.brokenLineData = res\n\t\t\t\t// 表格数据\n\t\t\t\tthis.tableData = res \n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tlog(error)\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 计算累积确诊、治愈、死亡\n\t\tasync covidTotal(diagdata, curedata, diedata) {\n\t\t\t// 累积确诊\n\t\t\tlet diagTotal = await new Total(diagdata).sum()\n\t\t\t// log(diagTotal)\n\t\t\tthis.$set(this.peopleList[0], 'data', diagTotal.sumdata)\n\t\t\t// 时间\n\t\t\tlet diagTime = diagTotal.startTime\n\t\t\t\n\t\t\t// 累积治愈\n\t\t\tlet cureTotal = await new Total(curedata).sum()\n\t\t\t// log(cureTotal)\n\t\t\tthis.$set(this.peopleList[1], 'data', cureTotal.sumdata)\n\t\t\tlet cureTime = cureTotal.startTime\n\t\t\t\n\t\t\t// 累积死亡\n\t\t\tlet deathTotal = await new Total(diedata).sum()\n\t\t\t// log(deathTotal)\n\t\t\tthis.$set(this.peopleList[2], 'data', deathTotal.sumdata)\n\t\t\tlet deathTime = deathTotal.startTime\n\t\t\t\n\t\t\t// 将时间拆分合并为一个新的数组\n\t\t\tlet timearr = [...diagTime, ...cureTime, ...deathTime]\n\t\t\t// log(timearr)\n\t\t\tthis.deadline = timestamp(timearr)\n\t\t},\n\t\t\n\t\t// 菜单页面跳转\n\t\tgetMenuContent(url) {\n\t\t\tuni.navigateTo({\n\t\t\t\t// url: url\n\t\t\t\turl\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 分享海报\n\t\tshare() {\n\t\t\tlet objdata = {\n\t\t\t\tdeadline: this.deadline,\n\t\t\t\tdiagdatas: this.peopleList[0].data,\n\t\t\t\tcuredatas: this.peopleList[1].data,\n\t\t\t\tdeathdatas: this.peopleList[2].data,\n\t\t\t}\n\t\t\tlet strdata = JSON.stringify(objdata)\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'../canvasview/canvas?obj=' + strdata\n\t\t\t})\n\t\t}\n\t}\n}\n"],"sourceRoot":""}